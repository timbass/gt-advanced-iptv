<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GT Advanced IPTV</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Device Setup Screen */
        .device-setup-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .setup-container {
            background: rgba(26, 26, 46, 0.95);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(100, 255, 218, 0.2);
        }

        .setup-header {
            margin-bottom: 40px;
        }

        .setup-logo {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .setup-content h2 {
            font-size: 32px;
            margin-bottom: 20px;
            color: #ccd6f6;
        }

        .setup-subtitle {
            font-size: 16px;
            color: #ccd6f6;
            margin-bottom: 10px;
        }

        .setup-description {
            font-size: 14px;
            color: #8892b0;
            margin-bottom: 40px;
        }

        .device-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 40px;
        }

        .device-option {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .device-option:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(5px);
        }

        .device-option.active {
            background: rgba(100, 255, 218, 0.2);
            border-color: #64ffda;
        }

        .radio-btn {
            width: 20px;
            height: 20px;
            border: 2px solid #8892b0;
            border-radius: 50%;
            position: relative;
            transition: all 0.3s;
        }

        .device-option.active .radio-btn {
            border-color: #64ffda;
        }

        .device-option.active .radio-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: #64ffda;
            border-radius: 50%;
        }

        .device-option span {
            font-size: 16px;
            color: #ccd6f6;
            font-weight: 500;
        }

        .save-button {
            background: linear-gradient(45deg, #64ffda, #4facfe);
            border: none;
            color: #0a192f;
            padding: 15px 60px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
        }

        .save-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(100, 255, 218, 0.3);
        }

        .setup-footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(136, 146, 176, 0.3);
        }

        .website-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            color: #8892b0;
            font-size: 14px;
        }

        .globe-icon {
            font-size: 16px;
        }

        /* Hide main content during setup */
        .app-container.setup-mode .header,
        .app-container.setup-mode .dashboard,
        .app-container.setup-mode .footer {
            display: none;
        }

        .app-container {
            width: 100%;
            height: 100vh;
            position: relative;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 40px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 20px;
        }

        .time-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .current-time {
            font-size: 32px;
            font-weight: bold;
        }

        .current-date {
            font-size: 16px;
            opacity: 0.8;
        }

        .header-icons {
            display: flex;
            gap: 15px;
        }

        .header-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .header-icon:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        /* Main Dashboard */
        .dashboard {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 20px;
            padding: 40px;
            height: calc(100vh - 140px);
        }

        /* Cards */
        .card {
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .card:hover::before {
            opacity: 1;
        }

        /* Live TV Card - Large */
        .live-tv-card {
            grid-row: span 2;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .live-tv-card .card-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .live-tv-card .card-title {
            font-size: 32px;
            font-weight: bold;
        }

        /* Movies Card */
        .movies-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .movies-card .card-icon {
            font-size: 60px;
            margin-bottom: 15px;
        }

        .movies-card .card-title {
            font-size: 24px;
            font-weight: bold;
        }

        /* Series Card */
        .series-card {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .series-card .card-icon {
            font-size: 60px;
            margin-bottom: 15px;
        }

        .series-card .card-title {
            font-size: 24px;
            font-weight: bold;
        }

        /* Small Cards */
        .small-cards {
            display: flex;
            gap: 15px;
            grid-column: 2 / 4;
        }

        .small-card {
            flex: 1;
            height: 120px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .small-card:hover {
            transform: translateY(-5px);
        }

        .epg-card {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        .recordings-card {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }

        .catchup-card {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }

        .small-card .card-icon {
            font-size: 30px;
            margin-bottom: 8px;
        }

        .small-card .card-title {
            font-size: 14px;
            font-weight: bold;
            text-align: center;
        }

        /* Footer */
        .footer {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            opacity: 0.7;
        }

        .expiration {
            font-size: 14px;
            margin-bottom: 5px;
        }

        /* Player Modal */
        .player-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1000;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
        }

        .modal-title {
            font-size: 24px;
            font-weight: bold;
        }

        .close-btn {
            font-size: 30px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transition: background 0.3s;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .modal-content {
            display: flex;
            height: calc(100vh - 80px);
        }

        /* Channel List */
        .channel-sidebar {
            width: 350px;
            background: rgba(0, 0, 0, 0.7);
            overflow-y: auto;
            padding: 20px;
        }

        .channel-categories {
            display: flex;
            margin-bottom: 20px;
            gap: 10px;
        }

        .category-btn {
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.3s;
        }

        .category-btn.active,
        .category-btn:hover {
            background: #667eea;
        }

        .channel-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .channel-item {
            display: flex;
            align-items: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .channel-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .channel-item.active {
            background: #667eea;
        }

        .channel-logo {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 12px;
            font-weight: bold;
        }

        .channel-info h4 {
            font-size: 14px;
            margin-bottom: 4px;
        }

        .channel-info p {
            font-size: 12px;
            opacity: 0.7;
        }

        /* Video Player Area */
        .player-area {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .video-container {
            flex: 1;
            background: #000;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-player {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .video-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .play-button {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: rgba(102, 126, 234, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .play-button:hover {
            background: #667eea;
            transform: scale(1.1);
        }

        .placeholder-text {
            font-size: 18px;
            opacity: 0.8;
        }

        /* Player Controls */
        .player-controls {
            background: rgba(0, 0, 0, 0.8);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .controls-left,
        .controls-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .control-btn {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .volume-slider {
            width: 80px;
        }

        .time-info-player {
            font-size: 14px;
            opacity: 0.8;
        }

        /* Live TV Layout */
        .live-tv-layout {
            display: flex;
            height: calc(100vh - 80px);
            background: #1a1a2e;
        }

        /* Categories Sidebar */
        .categories-sidebar {
            width: 280px;
            background: #16213e;
            border-right: 1px solid #0f3460;
            display: flex;
            flex-direction: column;
        }

        .search-box {
            padding: 15px;
            border-bottom: 1px solid #0f3460;
        }

        .search-box input {
            width: 100%;
            background: #0f3460;
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 12px;
        }

        .search-box input::placeholder {
            color: #8892b0;
        }

        .category-list {
            flex: 1;
            overflow-y: auto;
        }

        .category-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            cursor: pointer;
            border-bottom: 1px solid #0f3460;
            transition: background 0.2s;
            font-size: 13px;
            color: #ccd6f6;
        }

        .category-item:hover {
            background: #0f3460;
        }

        .category-item.active {
            background: #64ffda;
            color: #0a192f;
        }

        .category-item .count {
            background: #8892b0;
            color: #0a192f;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: bold;
        }

        .category-item.active .count {
            background: #0a192f;
            color: #64ffda;
        }

        /* Channels Middle Section */
        .channels-middle {
            width: 320px;
            background: #1a1a2e;
            border-right: 1px solid #0f3460;
        }

        .channels-list {
            height: 100%;
            overflow-y: auto;
        }

        .channels-list .channel-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-bottom: 1px solid #0f3460;
            cursor: pointer;
            transition: background 0.2s;
        }

        .channels-list .channel-item:hover {
            background: #0f3460;
        }

        .channels-list .channel-item.active {
            background: #ff6b35;
        }

        .channels-list .channel-logo {
            width: 40px;
            height: 30px;
            background: #0f3460;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 10px;
            font-weight: bold;
            color: white;
        }

        .cnn-logo {
            background: #cc0000 !important;
            color: white !important;
        }

        .fox-logo {
            background: #003366 !important;
            color: white !important;
        }

        .cgtn-logo {
            background: #c41e3a !important;
            color: white !important;
        }

        .cbs-logo {
            background: #254aa5 !important;
            color: white !important;
        }

        .channels-list .channel-info {
            flex: 1;
        }

        .channels-list .channel-name {
            font-size: 13px;
            font-weight: bold;
            color: #ccd6f6;
            margin-bottom: 4px;
        }

        .channels-list .channel-program {
            font-size: 11px;
            color: #8892b0;
        }

        /* Player and EPG Section */
        .player-epg-section {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .video-container {
            flex: 1;
            background: #000;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ok-to-play {
            font-size: 20px;
            color: #ccd6f6;
            text-align: center;
        }

        /* EPG Panel */
        .epg-panel {
            height: 200px;
            background: #16213e;
            border-top: 1px solid #0f3460;
            overflow-y: auto;
            padding: 10px;
        }

        .epg-item {
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(100, 255, 218, 0.1);
            border-radius: 5px;
            border-left: 3px solid #64ffda;
        }

        .epg-time {
            font-size: 12px;
            color: #64ffda;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .epg-title {
            font-size: 14px;
            color: #ccd6f6;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .epg-description {
            font-size: 12px;
            color: #8892b0;
            line-height: 1.4;
        }

        /* Content Grid for Movies/Series */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            padding: 20px;
            overflow-y: auto;
            height: calc(100vh - 80px);
        }

        .content-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
        }

        .content-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .content-poster {
            width: 100%;
            height: 280px;
            background: linear-gradient(135deg, #333, #555);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: #666;
        }

        .content-info {
            padding: 15px;
        }

        .content-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .content-meta {
            font-size: 12px;
            opacity: 0.7;
        }

        /* Loading Animation */
        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .dashboard {
                grid-template-columns: 1fr 1fr;
                grid-template-rows: auto;
                padding: 20px;
            }
            
            .live-tv-card {
                grid-column: span 2;
                grid-row: span 1;
            }
            
            .small-cards {
                grid-column: span 2;
            }
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
                gap: 15px;
                padding: 15px;
            }
            
            .live-tv-card {
                grid-column: span 1;
            }
            
            .small-cards {
                grid-column: span 1;
                flex-direction: column;
            }
            
            .header {
                padding: 15px 20px;
            }
            
            .current-time {
                font-size: 24px;
            }
            
            .channel-sidebar {
                width: 280px;
            }
        }

        /* Settings Grid */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            padding: 30px;
            height: calc(100vh - 160px);
            overflow-y: auto;
        }

        .settings-card {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            border-radius: 15px;
            padding: 30px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 150px;
        }

        .settings-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border-color: rgba(100, 255, 218, 0.5);
        }

        .stream-format-highlight {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            border-color: rgba(102, 126, 234, 0.8) !important;
        }

        .settings-icon {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .settings-title {
            font-size: 16px;
            font-weight: bold;
            color: white;
            text-align: center;
        }

        .settings-footer {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 8px;
            color: #8892b0;
            font-size: 14px;
        }

        .website-branding {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Settings Detail Modal */
        .settings-detail-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1001;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .settings-detail-content {
            background: #1a1a2e;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            max-height: 80%;
            overflow: hidden;
            border: 1px solid rgba(100, 255, 218, 0.3);
        }

        .settings-detail-header {
            background: #16213e;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(100, 255, 218, 0.2);
        }

        .settings-detail-header h3 {
            color: #64ffda;
            margin: 0;
            font-size: 20px;
        }

        .close-settings-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .close-settings-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .settings-detail-body {
            padding: 30px;
            max-height: 400px;
            overflow-y: auto;
        }

        .setting-item {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(136, 146, 176, 0.2);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-label {
            font-size: 16px;
            color: #ccd6f6;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .setting-description {
            font-size: 13px;
            color: #8892b0;
            margin-bottom: 15px;
        }

        .setting-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .setting-switch {
            width: 50px;
            height: 25px;
            background: #0f3460;
            border-radius: 25px;
            cursor: pointer;
            position: relative;
            transition: background 0.3s;
        }

        .setting-switch.active {
            background: #64ffda;
        }

        .setting-switch::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 21px;
            height: 21px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }

        .setting-switch.active::after {
            transform: translateX(25px);
        }

        .setting-select {
            background: #0f3460;
            border: 1px solid #64ffda;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
        }

        .setting-input {
            background: #0f3460;
            border: 1px solid #64ffda;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            width: 200px;
        }

        .setting-button {
            background: #64ffda;
            border: none;
            color: #0a192f;
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }

        .setting-button:hover {
            background: #4facfe;
        }

        /* Responsive Settings */
        @media (max-width: 1200px) {
            .settings-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 900px) {
            .settings-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .settings-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Device Setup Screen -->
        <div class="device-setup-screen" id="deviceSetup" style="display: none;">
            <div class="setup-container">
                <div class="setup-header">
                    <div class="setup-logo">
                        <div style="width: 120px; height: 40px; background: linear-gradient(45deg, #64ffda, #4facfe); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #0a192f;">
                            GT HD IPTV
                        </div>
                    </div>
                </div>
                
                <div class="setup-content">
                    <h2>Device Option</h2>
                    <p class="setup-subtitle">We detect your device type is <span id="detectedDevice">Mobile</span></p>
                    <p class="setup-description">Please choose correct one for better performance</p>
                    
                    <div class="device-options">
                        <div class="device-option active" onclick="selectDevice('mobile')">
                            <div class="radio-btn"></div>
                            <span>Mobile</span>
                        </div>
                        <div class="device-option" onclick="selectDevice('tv')">
                            <div class="radio-btn"></div>
                            <span>TV</span>
                        </div>
                        <div class="device-option" onclick="selectDevice('tablet')">
                            <div class="radio-btn"></div>
                            <span>Tablet</span>
                        </div>
                        <div class="device-option" onclick="selectDevice('desktop')">
                            <div class="radio-btn"></div>
                            <span>Desktop</span>
                        </div>
                    </div>
                    
                    <button class="save-button" onclick="completeSetup()">SAVE</button>
                </div>
            </div>
        </div>
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <div class="logo-icon">GT</div>
                <span>GT Advanced IPTV</span>
            </div>
            
            <div class="time-info">
                <div class="current-time" id="currentTime">17:07</div>
                <div class="current-date" id="currentDate">September 25, 2025</div>
            </div>
            
            <div class="header-icons">
                <div class="header-icon" onclick="showNotifications()">üîî</div>
                <div class="header-icon" onclick="showProfile()">üë§</div>
                <div class="header-icon" onclick="showSettings()">‚öôÔ∏è</div>
                <div class="header-icon" onclick="logout()">‚èª</div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div class="dashboard">
            <!-- Live TV Card -->
            <div class="card live-tv-card" onclick="openSection('live-tv')">
                <div class="card-icon">üì∫</div>
                <div class="card-title">LIVE TV</div>
            </div>

            <!-- Movies Card -->
            <div class="card movies-card" onclick="openSection('movies')">
                <div class="card-icon">‚ñ∂Ô∏è</div>
                <div class="card-title">MOVIES</div>
            </div>

            <!-- Series Card -->
            <div class="card series-card" onclick="openSection('series')">
                <div class="card-icon">üé¨</div>
                <div class="card-title">SERIES</div>
            </div>

            <!-- Small Cards Row -->
            <div class="small-cards">
                <div class="small-card epg-card" onclick="openSection('epg')">
                    <div class="card-icon">üìÖ</div>
                    <div class="card-title">INSTALL<br>EPG</div>
                </div>
                
                <div class="small-card recordings-card" onclick="openSection('recordings')">
                    <div class="card-icon">üé•</div>
                    <div class="card-title">RECORDINGS</div>
                </div>
                
                <div class="small-card catchup-card" onclick="openSection('catchup')">
                    <div class="card-icon">‚èÆÔ∏è</div>
                    <div class="card-title">CATCH UP</div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="expiration">Expiration: May 25, 2026</div>
        </div>
    </div>

    <!-- Player Modal -->
    <div class="player-modal" id="playerModal">
        <div class="modal-header">
            <div class="modal-title" id="modalSectionTitle">Live TV</div>
            <div class="close-btn" onclick="closePlayer()">&times;</div>
        </div>
        
        <div class="modal-content" id="modalContent">
            <!-- Content will be populated based on section -->
        </div>
    </div>

    <script>
        let currentSection = '';
        let currentChannel = null;
        let isPlaying = false;
        let deviceSetupComplete = localStorage.getItem('gt_device_setup') === 'true';

        // Sample data
        const liveChannels = [
            { id: 1, name: "CNN International", category: "news", program: "World News", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" },
            { id: 2, name: "ESPN Sports", category: "sports", program: "Live Football", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4" },
            { id: 3, name: "HBO Movies", category: "movies", program: "Action Movies", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" },
            { id: 4, name: "Discovery Channel", category: "documentary", program: "Nature Documentary", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4" },
            { id: 5, name: "Comedy Central", category: "entertainment", program: "Stand Up Comedy", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4" },
            { id: 6, name: "National Geographic", category: "documentary", program: "Wild Animals", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4" }
        ];

        const movies = [
            { id: 101, title: "The Matrix Reloaded", year: "2024", genre: "Action", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" },
            { id: 102, title: "Comedy Night", year: "2023", genre: "Comedy", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4" },
            { id: 103, title: "Space Odyssey", year: "2024", genre: "Sci-Fi", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" },
            { id: 104, title: "Horror Story", year: "2023", genre: "Horror", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4" },
            { id: 105, title: "Love Story", year: "2024", genre: "Romance", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4" },
            { id: 106, title: "Thriller Night", year: "2023", genre: "Thriller", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4" }
        ];

        const series = [
            { id: 201, title: "Breaking Point", seasons: 5, genre: "Drama", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" },
            { id: 202, title: "Comedy Club", seasons: 3, genre: "Comedy", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4" },
            { id: 203, title: "Action Heroes", seasons: 4, genre: "Action", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" },
            { id: 204, title: "Mystery Files", seasons: 2, genre: "Mystery", url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4" }
        ];

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            detectDevice();
            if (!deviceSetupComplete) {
                showDeviceSetup();
            } else {
                showMainApp();
            }
            updateTime();
            setInterval(updateTime, 1000);
        });

        function detectDevice() {
            const userAgent = navigator.userAgent.toLowerCase();
            let deviceType = 'desktop';
            
            if (/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent)) {
                if (/ipad|tablet/i.test(userAgent)) {
                    deviceType = 'tablet';
                } else {
                    deviceType = 'mobile';
                }
            } else if (/smart-tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast/i.test(userAgent)) {
                deviceType = 'tv';
            }
            
            document.getElementById('detectedDevice').textContent = deviceType.charAt(0).toUpperCase() + deviceType.slice(1);
            
            // Auto-select detected device
            document.querySelectorAll('.device-option').forEach(option => {
                option.classList.remove('active');
            });
            document.querySelector(`[onclick="selectDevice('${deviceType}')"]`)?.classList.add('active');
        }

        function showDeviceSetup() {
            document.getElementById('deviceSetup').style.display = 'flex';
            document.querySelector('.app-container').classList.add('setup-mode');
        }

        function showMainApp() {
            document.getElementById('deviceSetup').style.display = 'none';
            document.querySelector('.app-container').classList.remove('setup-mode');
        }

        function selectDevice(deviceType) {
            document.querySelectorAll('.device-option').forEach(option => {
                option.classList.remove('active');
            });
            event.target.closest('.device-option').classList.add('active');
            
            // Store selected device type
            localStorage.setItem('gt_device_type', deviceType);
        }

        function completeSetup() {
            const selectedDevice = document.querySelector('.device-option.active')?.querySelector('span')?.textContent?.toLowerCase() || 'mobile';
            
            // Store setup completion and device type
            localStorage.setItem('gt_device_setup', 'true');
            localStorage.setItem('gt_device_type', selectedDevice);
            
            // Show main app
            deviceSetupComplete = true;
            showMainApp();
            
            // Optional: Show welcome message
            setTimeout(() => {
                alert(`Welcome to GT Advanced IPTV!\nOptimized for ${selectedDevice.charAt(0).toUpperCase() + selectedDevice.slice(1)} devices.`);
            }, 500);
        }

        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { 
                hour12: false, 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            const dateString = now.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            document.getElementById('currentTime').textContent = timeString;
            document.getElementById('currentDate').textContent = dateString;
        }

        function openSection(section) {
            currentSection = section;
            const modal = document.getElementById('playerModal');
            const modalContent = document.getElementById('modalContent');
            const modalTitle = document.getElementById('modalSectionTitle');
            
            modal.style.display = 'block';
            
            switch(section) {
                case 'live-tv':
                    modalTitle.innerHTML = `
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <div style="width: 30px; height: 20px; background: #64ffda; border-radius: 3px; display: flex; align-items: center; justify-content: center; font-size: 10px; color: #0a192f; font-weight: bold;">HD</div>
                                <span>GT Advanced IPTV</span>
                            </div>
                            <div style="color: #8892b0;">|</div>
                            <div>Live</div>
                            <div style="margin-left: auto; display: flex; align-items: center; gap: 20px;">
                                <div style="font-size: 16px;">05:43 AM</div>
                                <div style="font-size: 14px; color: #8892b0;">November 22,2023</div>
                                <div style="display: flex; gap: 10px;">
                                    <div style="cursor: pointer;">üîç</div>
                                    <div style="cursor: pointer;">‚ãÆ</div>
                                </div>
                            </div>
                        </div>
                    `;
                    createLiveTVInterface(modalContent);
                    break;
                case 'movies':
                    modalTitle.textContent = 'Movies';
                    createMoviesInterface(modalContent);
                    break;
                case 'series':
                    modalTitle.textContent = 'Series';
                    createSeriesInterface(modalContent);
                    break;
                case 'settings':
                    modalTitle.textContent = 'Settings';
                    createSettingsInterface(modalContent);
                    break;
                case 'epg':
                    modalTitle.textContent = 'Electronic Program Guide';
                    createEPGInterface(modalContent);
                    break;
                case 'recordings':
                    modalTitle.textContent = 'Recordings';
                    createRecordingsInterface(modalContent);
                    break;
                case 'catchup':
                    modalTitle.textContent = 'Catch Up TV';
                    createCatchupInterface(modalContent);
                    break;
            }
        }

        function selectCategory(category) {
            // Update active category
            document.querySelectorAll('.category-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Here you would filter channels based on category
            // For now, we'll just show all channels
            console.log('Selected category:', category);
        }

        function createLiveTVInterface(container) {
            container.innerHTML = `
                <div class="live-tv-layout">
                    <!-- Left Categories Sidebar -->
                    <div class="categories-sidebar">
                        <div class="search-box">
                            <input type="text" placeholder="Search in Categories" class="search-input">
                        </div>
                        <div class="category-list">
                            <div class="category-item active" onclick="selectCategory('all')" data-count="15975">
                                <span>ALL</span>
                                <span class="count">15975</span>
                            </div>
                            <div class="category-item" onclick="selectCategory('favourites')" data-count="0">
                                <span>FAVOURITES</span>
                                <span class="count">0</span>
                            </div>
                            <div class="category-item" onclick="selectCategory('history')" data-count="0">
                                <span>CHANNELS HISTORY</span>
                                <span class="count">0</span>
                            </div>
                            <div class="category-item" onclick="selectCategory('usa-news')" data-count="64">
                                <span>USA NEWS</span>
                                <span class="count">64</span>
                            </div>
                            <div class="category-item" onclick="selectCategory('usa-movies')" data-count="103">
                                <span>USA MOVIES CHANNELS</span>
                                <span class="count">103</span>
                            </div>
                            <div class="category-item" onclick="selectCategory('netflix')" data-count="9">
                                <span>NETFLIX PREMIUM</span>
                                <span class="count">9</span>
                            </div>
                            <div class="category-item" onclick="selectCategory('usa-entertainment')" data-count="253">
                                <span>USA ENTERTAINMENT</span>
                                <span class="count">253</span>
                            </div>
                            <div class="category-item" onclick="selectCategory('usa-family')" data-count="26">
                                <span>USA FAMILY & KIDS</span>
                                <span class="count">26</span>
                            </div>
                            <div class="category-item" onclick="selectCategory('usa-documentary')" data-count="10">
                                <span>USA DOCUMENTARY</span>
                                <span class="count">10</span>
                            </div>
                            <div class="category-item" onclick="selectCategory('usa-music')" data-count="61">
                                <span>USA MUSIC</span>
                                <span class="count">61</span>
                            </div>
                            <div class="category-item" onclick="selectCategory('usa-ppv')" data-count="1">
                                <span>USA PPV CINEMA</span>
                                <span class="count">1</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Middle Channels List -->
                    <div class="channels-middle">
                        <div class="channels-list" id="channelsList">
                            <div class="channel-item active" onclick="selectChannel(1)">
                                <div class="channel-logo">üì∫</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA NewsNation</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                            <div class="channel-item" onclick="selectChannel(2)">
                                <div class="channel-logo cnn-logo">CNN</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA CNN INTERNATIONAL*</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                            <div class="channel-item" onclick="selectChannel(3)">
                                <div class="channel-logo fox-logo">FOX</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA Fox Business UHD</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                            <div class="channel-item" onclick="selectChannel(4)">
                                <div class="channel-logo">üì∫</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA News 12 Hudson Valley</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                            <div class="channel-item" onclick="selectChannel(5)">
                                <div class="channel-logo cnn-logo">CNN</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA CNN UHQP</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                            <div class="channel-item" onclick="selectChannel(6)">
                                <div class="channel-logo">üì∫</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA NEWSMAX</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                            <div class="channel-item" onclick="selectChannel(7)">
                                <div class="channel-logo">üì∫</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA MSNBC</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                            <div class="channel-item" onclick="selectChannel(8)">
                                <div class="channel-logo cgtn-logo">CGTN</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA CGTN (English)</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                            <div class="channel-item" onclick="selectChannel(9)">
                                <div class="channel-logo cbs-logo">CBS</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA CBSN Boston</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                            <div class="channel-item" onclick="selectChannel(10)">
                                <div class="channel-logo cbs-logo">CBS</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA CBSN New York</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                            <div class="channel-item" onclick="selectChannel(11)">
                                <div class="channel-logo cbs-logo">CBS</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA CBSN Minnesota</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                            <div class="channel-item" onclick="selectChannel(12)">
                                <div class="channel-logo">üì∫</div>
                                <div class="channel-info">
                                    <div class="channel-name">USA AL JAZEERA HD</div>
                                    <div class="channel-program">No Program Found</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Video Player + EPG -->
                    <div class="player-epg-section">
                        <!-- Video Player -->
                        <div class="video-container">
                            <video class="video-player" id="videoPlayer" style="display: none;" controls>
                                Your browser does not support the video tag.
                            </video>
                            <div class="video-placeholder" id="videoPlaceholder">
                                <div class="ok-to-play">Press "OK" to play</div>
                            </div>
                            <div class="loading" id="loading">
                                <div class="spinner"></div>
                            </div>
                        </div>
                        
                        <!-- EPG Panel -->
                        <div class="epg-panel">
                            <div class="epg-item">
                                <div class="epg-time">06:00 AM - 06:00 AM</div>
                                <div class="epg-title">The Lead with Jake Tapper</div>
                                <div class="epg-description">The day's top stories from around the world, from politics and money to sports and pop culture.</div>
                            </div>
                            <div class="epg-item">
                                <div class="epg-time">06:00 AM - 06:30 AM</div>
                                <div class="epg-title">Blitzer</div>
                                <div class="epg-description">A look at breaking news, politics and reports from around the globe.</div>
                            </div>
                            <div class="epg-item">
                                <div class="epg-time">06:30 AM - 08:00 AM</div>
                                <div class="epg-title">World Sport</div>
                                <div class="epg-description">A round up of all the day's sports news.</div>
                            </div>
                            <div class="epg-item">
                                <div class="epg-time">08:00 AM - 09:00 AM</div>
                                <div class="epg-title">Erin Burnett OutFront</div>
                                <div class="epg-description">Erin Burnett stays ahead of the headlines, delivering a show that's both breaking and informative.</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function createMoviesInterface(container) {
            container.innerHTML = `
                <div class="content-grid">
                    ${movies.map(movie => `
                        <div class="content-item" onclick="playContent(${movie.id}, 'movie')">
                            <div class="content-poster">üé¨</div>
                            <div class="content-info">
                                <div class="content-title">${movie.title}</div>
                                <div class="content-meta">${movie.year} ‚Ä¢ ${movie.genre}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function createSeriesInterface(container) {
            container.innerHTML = `
                <div class="content-grid">
                    ${series.map(show => `
                        <div class="content-item" onclick="playContent(${show.id}, 'series')">
                            <div class="content-poster">üì∫</div>
                            <div class="content-info">
                                <div class="content-title">${show.title}</div>
                                <div class="content-meta">${show.seasons} Seasons ‚Ä¢ ${show.genre}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function createSettingsInterface(container) {
            container.innerHTML = `
                <div class="settings-grid">
                    <div class="settings-card" onclick="openSettingsCategory('general')">
                        <div class="settings-icon">‚öôÔ∏è</div>
                        <div class="settings-title">General Settings</div>
                    </div>
                    
                    <div class="settings-card" onclick="openSettingsCategory('epg-shift')">
                        <div class="settings-icon">üïê</div>
                        <div class="settings-title">EPG Time Shift</div>
                    </div>
                    
                    <div class="settings-card stream-format-highlight" onclick="openSettingsCategory('stream-format')">
                        <div class="settings-icon">üì∫</div>
                        <div class="settings-title">Stream Format</div>
                    </div>
                    
                    <div class="settings-card" onclick="openSettingsCategory('automation')">
                        <div class="settings-icon">üîß</div>
                        <div class="settings-title">Automation</div>
                    </div>
                    
                    <div class="settings-card" onclick="openSettingsCategory('time-format')">
                        <div class="settings-icon">üïí</div>
                        <div class="settings-title">Time Format</div>
                    </div>
                    
                    <div class="settings-card" onclick="openSettingsCategory('parental')">
                        <div class="settings-icon">üõ°Ô∏è</div>
                        <div class="settings-title">Parental Control</div>
                    </div>
                    
                    <div class="settings-card" onclick="openSettingsCategory('epg-timeline')">
                        <div class="settings-icon">üìä</div>
                        <div class="settings-title">EPG Timeline</div>
                    </div>
                    
                    <div class="settings-card" onclick="openSettingsCategory('player-selection')">
                        <div class="settings-icon">‚ñ∂Ô∏è</div>
                        <div class="settings-title">Player selection</div>
                    </div>
                    
                    <div class="settings-card" onclick="openSettingsCategory('general-2')">
                        <div class="settings-icon">‚öôÔ∏è</div>
                        <div class="settings-title">General Settings</div>
                    </div>
                    
                    <div class="settings-card" onclick="openSettingsCategory('external-player')">
                        <div class="settings-icon">üö´</div>
                        <div class="settings-title">External Player</div>
                    </div>
                    
                    <div class="settings-card" onclick="openSettingsCategory('multiscreen')">
                        <div class="settings-icon">üì±</div>
                        <div class="settings-title">Multiscreen</div>
                    </div>
                    
                    <div class="settings-card" onclick="openSettingsCategory('speed-test')">
                        <div class="settings-icon">üèÉ</div>
                        <div class="settings-title">Speed test</div>
                    </div>
                </div>
                
                <div class="settings-footer">
                    <div class="website-branding">
                        <div class="globe-icon">üåê</div>
                        <span>xtremehdiptv.io</span>
                    </div>
                </div>
                
                <!-- Settings Detail Modal -->
                <div class="settings-detail-modal" id="settingsDetailModal" style="display: none;">
                    <div class="settings-detail-content">
                        <div class="settings-detail-header">
                            <h3 id="settingsDetailTitle">Settings</h3>
                            <button class="close-settings-btn" onclick="closeSettingsDetail()">&times;</button>
                        </div>
                        <div class="settings-detail-body" id="settingsDetailBody">
                            <!-- Settings content will be loaded here -->
                        </div>
                    </div>
                </div>
            `;
        }

        function createRecordingsInterface(container) {
            container.innerHTML = `
                <div style="padding: 40px; text-align: center;">
                    <h2 style="margin-bottom: 20px;">Recordings</h2>
                    <p style="opacity: 0.8;">No recordings available</p>
                    <div style="margin-top: 30px;">
                        <button style="background: #f5576c; border: none; color: white; padding: 15px 30px; border-radius: 25px; margin: 0 10px; cursor: pointer;" onclick="alert('Schedule recording')">Schedule Recording</button>
                    </div>
                </div>
            `;
        }

        function createCatchupInterface(container) {
            container.innerHTML = `
                <div style="padding: 40px; text-align: center;">
                    <h2 style="margin-bottom: 20px;">Catch Up TV</h2>
                    <p style="opacity: 0.8;">Watch programs from the past 7 days</p>
                    <div style="margin-top: 30px;">
                        <p style="font-size: 14px; opacity: 0.6;">Catch up content would be displayed here</p>
                    </div>
                </div>
            `;
        }

        function selectChannel(channelId) {
            currentChannel = liveChannels.find(ch => ch.id === channelId);
            
            // Update UI
            document.querySelectorAll('.channel-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.channel-item').classList.add('active');
            
            // Update placeholder
            const placeholder = document.getElementById('videoPlaceholder');
            if (placeholder) {
                placeholder.querySelector('.placeholder-text').textContent = `Ready to play: ${currentChannel.name}`;
            }
        }

        function playSelected() {
            if (currentChannel) {
                playVideo(currentChannel.url);
            }
        }

        function playContent(contentId, type) {
            let content;
            if (type === 'movie') {
                content = movies.find(m => m.id === contentId);
            } else if (type === 'series') {
                content = series.find(s => s.id === contentId);
            }
            
            if (content) {
                playVideo(content.url);
            }
        }

        function playVideo(url) {
            const videoPlayer = document.getElementById('videoPlayer');
            const placeholder = document.getElementById('videoPlaceholder');
            const loading = document.getElementById('loading');
            
            if (videoPlayer && placeholder && loading) {
                loading.style.display = 'block';
                placeholder.style.display = 'none';
                
                videoPlayer.src = url;
                videoPlayer.style.display = 'block';
                
                videoPlayer.play().then(() => {
                    loading.style.display = 'none';
                    isPlaying = true;
                }).catch(error => {
                    console.error('Playback error:', error);
                    loading.style.display = 'none';
                    alert('Error playing video');
                });
            }
        }

        function filterChannels(category) {
            const buttons = document.querySelectorAll('.category-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const channelList = document.getElementById('channelList');
            const filteredChannels = category === 'all' ? liveChannels : liveChannels.filter(ch => ch.category === category);
            
            channelList.innerHTML = filteredChannels.map(channel => `
                <div class="channel-item" onclick="selectChannel(${channel.id})">
                    <div class="channel-logo">${channel.name.substring(0, 3).toUpperCase()}</div>
                    <div class="channel-info">
                        <h4>${channel.name}</h4>
                        <p>${channel.program}</p>
                    </div>
                </div>
            `).join('');
        }

        function playPause() {
            const video = document.getElementById('videoPlayer');
            if (video) {
                if (isPlaying) {
                    video.pause();
                    isPlaying = false;
                } else {
                    video.play();
                    isPlaying = true;
                }
            }
        }

        function previousChannel() {
            if (currentChannel) {
                const currentIndex = liveChannels.findIndex(ch => ch.id === currentChannel.id);
                if (currentIndex > 0) {
                    selectChannel(liveChannels[currentIndex - 1].id);
                    if (isPlaying) {
                        playSelected();
                    }
                }
            }
        }

        function nextChannel() {
            if (currentChannel) {
                const currentIndex = liveChannels.findIndex(ch => ch.id === currentChannel.id);
                if (currentIndex < liveChannels.length - 1) {
                    selectChannel(liveChannels[currentIndex + 1].id);
                    if (isPlaying) {
                        playSelected();
                    }
                }
            }
        }

        function toggleMute() {
            const video = document.getElementById('videoPlayer');
            if (video) {
                video.muted = !video.muted;
            }
        }

        function toggleFullscreen() {
            const video = document.getElementById('videoPlayer');
            if (video) {
                if (document.fullscreenElement) {
                    document.exitFullscreen();
                } else {
                    video.requestFullscreen();
                }
            }
        }

        function closePlayer() {
            const modal = document.getElementById('playerModal');
            modal.style.display = 'none';
            
            const video = document.getElementById('videoPlayer');
            if (video) {
                video.pause();
                video.src = '';
            }
            
            isPlaying = false;
            currentChannel = null;
        }

        function showNotifications() {
            alert('Notifications panel would open here');
        }

        function showProfile() {
            alert('User profile would open here');
        }

        function openSettingsCategory(category) {
            const modal = document.getElementById('settingsDetailModal');
            const title = document.getElementById('settingsDetailTitle');
            const body = document.getElementById('settingsDetailBody');
            
            modal.style.display = 'flex';
            
            switch(category) {
                case 'general':
                case 'general-2':
                    title.textContent = 'General Settings';
                    body.innerHTML = `
                        <div class="setting-item">
                            <div class="setting-label">Language</div>
                            <div class="setting-description">Choose your preferred language</div>
                            <div class="setting-control">
                                <select class="setting-select">
                                    <option value="en">English</option>
                                    <option value="es">Espa√±ol</option>
                                    <option value="fr">Fran√ßais</option>
                                    <option value="de">Deutsch</option>
                                </select>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Auto-start on boot</div>
                            <div class="setting-description">Automatically start the app when device boots</div>
                            <div class="setting-control">
                                <div class="setting-switch" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Keep screen on</div>
                            <div class="setting-description">Prevent screen from turning off during playback</div>
                            <div class="setting-control">
                                <div class="setting-switch active" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'epg-shift':
                    title.textContent = 'EPG Time Shift';
                    body.innerHTML = `
                        <div class="setting-item">
                            <div class="setting-label">Time Zone Offset</div>
                            <div class="setting-description">Adjust EPG time to match your local time zone</div>
                            <div class="setting-control">
                                <select class="setting-select">
                                    <option value="-12">GMT-12:00</option>
                                    <option value="-11">GMT-11:00</option>
                                    <option value="-10">GMT-10:00</option>
                                    <option value="-9">GMT-09:00</option>
                                    <option value="-8">GMT-08:00</option>
                                    <option value="-7">GMT-07:00</option>
                                    <option value="-6">GMT-06:00</option>
                                    <option value="-5">GMT-05:00</option>
                                    <option value="-4">GMT-04:00</option>
                                    <option value="-3">GMT-03:00</option>
                                    <option value="-2">GMT-02:00</option>
                                    <option value="-1">GMT-01:00</option>
                                    <option value="0" selected>GMT+00:00</option>
                                    <option value="1">GMT+01:00</option>
                                    <option value="2">GMT+02:00</option>
                                    <option value="3">GMT+03:00</option>
                                    <option value="4">GMT+04:00</option>
                                    <option value="5">GMT+05:00</option>
                                    <option value="6">GMT+06:00</option>
                                    <option value="7">GMT+07:00</option>
                                    <option value="8">GMT+08:00</option>
                                    <option value="9">GMT+09:00</option>
                                    <option value="10">GMT+10:00</option>
                                    <option value="11">GMT+11:00</option>
                                    <option value="12">GMT+12:00</option>
                                </select>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Auto-adjust for DST</div>
                            <div class="setting-description">Automatically adjust for Daylight Saving Time</div>
                            <div class="setting-control">
                                <div class="setting-switch active" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'stream-format':
                    title.textContent = 'Stream Format';
                    body.innerHTML = `
                        <div class="setting-item">
                            <div class="setting-label">Preferred Format</div>
                            <div class="setting-description">Choose the streaming format for better compatibility</div>
                            <div class="setting-control">
                                <select class="setting-select">
                                    <option value="auto" selected>Auto (Recommended)</option>
                                    <option value="hls">HLS (.m3u8)</option>
                                    <option value="dash">DASH (.mpd)</option>
                                    <option value="rtmp">RTMP</option>
                                    <option value="http">HTTP</option>
                                </select>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Hardware Acceleration</div>
                            <div class="setting-description">Use hardware acceleration for better performance</div>
                            <div class="setting-control">
                                <div class="setting-switch active" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Buffer Size</div>
                            <div class="setting-description">Streaming buffer size in seconds</div>
                            <div class="setting-control">
                                <select class="setting-select">
                                    <option value="5">5 seconds</option>
                                    <option value="10" selected>10 seconds</option>
                                    <option value="15">15 seconds</option>
                                    <option value="20">20 seconds</option>
                                    <option value="30">30 seconds</option>
                                </select>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'automation':
                    title.textContent = 'Automation';
                    body.innerHTML = `
                        <div class="setting-item">
                            <div class="setting-label">Auto-play on start</div>
                            <div class="setting-description">Automatically start playing the last watched channel</div>
                            <div class="setting-control">
                                <div class="setting-switch" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Auto-update playlists</div>
                            <div class="setting-description">Automatically check for playlist updates</div>
                            <div class="setting-control">
                                <div class="setting-switch active" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Update frequency</div>
                            <div class="setting-description">How often to check for updates</div>
                            <div class="setting-control">
                                <select class="setting-select">
                                    <option value="1">Every hour</option>
                                    <option value="6">Every 6 hours</option>
                                    <option value="12" selected>Every 12 hours</option>
                                    <option value="24">Daily</option>
                                    <option value="168">Weekly</option>
                                </select>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'time-format':
                    title.textContent = 'Time Format';
                    body.innerHTML = `
                        <div class="setting-item">
                            <div class="setting-label">Time Display Format</div>
                            <div class="setting-description">Choose between 12-hour or 24-hour time format</div>
                            <div class="setting-control">
                                <select class="setting-select">
                                    <option value="12">12-hour (AM/PM)</option>
                                    <option value="24" selected>24-hour</option>
                                </select>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Date Format</div>
                            <div class="setting-description">Choose your preferred date format</div>
                            <div class="setting-control">
                                <select class="setting-select">
                                    <option value="mdy">MM/DD/YYYY</option>
                                    <option value="dmy">DD/MM/YYYY</option>
                                    <option value="ymd" selected>YYYY-MM-DD</option>
                                </select>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'parental':
                    title.textContent = 'Parental Control';
                    body.innerHTML = `
                        <div class="setting-item">
                            <div class="setting-label">Enable Parental Control</div>
                            <div class="setting-description">Restrict access to adult content</div>
                            <div class="setting-control">
                                <div class="setting-switch" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Parental PIN</div>
                            <div class="setting-description">Set a 4-digit PIN to access restricted content</div>
                            <div class="setting-control">
                                <input type="password" class="setting-input" placeholder="Enter PIN" maxlength="4">
                                <button class="setting-button">Set PIN</button>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'epg-timeline':
                    title.textContent = 'EPG Timeline';
                    body.innerHTML = `
                        <div class="setting-item">
                            <div class="setting-label">Timeline Duration</div>
                            <div class="setting-description">How many days to show in EPG timeline</div>
                            <div class="setting-control">
                                <select class="setting-select">
                                    <option value="1">1 day</option>
                                    <option value="3">3 days</option>
                                    <option value="7" selected>7 days</option>
                                    <option value="14">14 days</option>
                                </select>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Show past programs</div>
                            <div class="setting-description">Display programs that have already aired</div>
                            <div class="setting-control">
                                <div class="setting-switch active" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'player-selection':
                    title.textContent = 'Player Selection';
                    body.innerHTML = `
                        <div class="setting-item">
                            <div class="setting-label">Default Player</div>
                            <div class="setting-description">Choose the default video player</div>
                            <div class="setting-control">
                                <select class="setting-select">
                                    <option value="internal" selected>Internal Player</option>
                                    <option value="exoplayer">ExoPlayer</option>
                                    <option value="vlc">VLC Player</option>
                                    <option value="mx">MX Player</option>
                                    <option value="external">External Player</option>
                                </select>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Player Controls</div>
                            <div class="setting-description">Show/hide player control buttons</div>
                            <div class="setting-control">
                                <div class="setting-switch active" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'external-player':
                    title.textContent = 'External Player';
                    body.innerHTML = `
                        <div class="setting-item">
                            <div class="setting-label">Enable External Player</div>
                            <div class="setting-description">Use external applications for video playback</div>
                            <div class="setting-control">
                                <div class="setting-switch" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Preferred External Player</div>
                            <div class="setting-description">Choose your preferred external player app</div>
                            <div class="setting-control">
                                <select class="setting-select">
                                    <option value="vlc">VLC Media Player</option>
                                    <option value="mx">MX Player</option>
                                    <option value="kodi">Kodi</option>
                                    <option value="plex">Plex</option>
                                </select>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'multiscreen':
                    title.textContent = 'Multiscreen';
                    body.innerHTML = `
                        <div class="setting-item">
                            <div class="setting-label">Enable Multiscreen</div>
                            <div class="setting-description">Watch multiple channels simultaneously</div>
                            <div class="setting-control">
                                <div class="setting-switch" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Screen Layout</div>
                            <div class="setting-description">Choose multiscreen layout</div>
                            <div class="setting-control">
                                <select class="setting-select">
                                    <option value="2x2">2x2 Grid</option>
                                    <option value="3x3">3x3 Grid</option>
                                    <option value="pip">Picture in Picture</option>
                                </select>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'speed-test':
                    title.textContent = 'Speed Test';
                    body.innerHTML = `
                        <div class="setting-item">
                            <div class="setting-label">Internet Speed Test</div>
                            <div class="setting-description">Test your internet connection speed</div>
                            <div class="setting-control">
                                <button class="setting-button" onclick="runSpeedTest()">Run Speed Test</button>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Connection Status</div>
                            <div class="setting-description">Current connection information</div>
                            <div class="setting-control">
                                <span style="color: #64ffda;">Connected - Good Signal</span>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Last Speed Test</div>
                            <div class="setting-description">Results from your last speed test</div>
                            <div class="setting-control">
                                <span style="color: #8892b0;">Download: 45.2 Mbps | Upload: 12.1 Mbps</span>
                            </div>
                        </div>
                    `;
                    break;
                    
                default:
                    title.textContent = 'Settings';
                    body.innerHTML = `<p style="text-align: center; color: #8892b0;">Settings for ${category} coming soon...</p>`;
            }
        }

        function closeSettingsDetail() {
            document.getElementById('settingsDetailModal').style.display = 'none';
        }

        function toggleSwitch(element) {
            element.classList.toggle('active');
        }

        function runSpeedTest() {
            alert('Speed test would run here and show results');
        }

        function createEPGInterface(container) {
            container.innerHTML = `
                <div style="padding: 40px; text-align: center;">
                    <h2 style="margin-bottom: 20px;">Electronic Program Guide</h2>
                    <p style="margin-bottom: 30px; opacity: 0.8;">Configure your EPG source to see program schedules</p>
                    <button style="background: #667eea; border: none; color: white; padding: 15px 30px; border-radius: 25px; font-size: 16px; cursor: pointer;" onclick="alert('EPG configuration would open here')">Configure EPG</button>
                </div>
            `;
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                alert('Logout functionality would be implemented here');
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('playerModal');
            if (event.target === modal) {
                closePlayer();
            }
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('playerModal').style.display === 'block') {
                switch(e.key) {
                    case ' ':
                        e.preventDefault();
                        playPause();
                        break;
                    case 'Escape':
                        closePlayer();
                        break;
                    case 'ArrowUp':
                        e.preventDefault();
                        previousChannel();
                        break;
                    case 'ArrowDown':
                        e.preventDefault();
                        nextChannel();
                        break;
                    case 'f':
                        toggleFullscreen();
                        break;
                    case 'm':
                        toggleMute();
                        break;
                }
            }
        });
    </script>
</body>
</html>
